<!--
Copyright 2021 Carnegie Mellon University. All Rights Reserved.
Released under a MIT (SEI)-style license. See LICENSE.md in the project root for license information.
-->

<div *ngIf="mapInitialized == true">
  <svg viewBox="0 8 100 100" #img>
    <image [attr.href]="imageUrl" width="100" height="100"/>
    <g *ngFor="let m of machines | async" >
      <circle class="clickpoint" [attr.cx]="m.xPosition" [attr.cy]="m.yPosition" [attr.r]="m.radius" (click)="redirect(m.urls)" fill-opacity="0.0"> </circle>
      <text class="clickpoint" [attr.x]="m.xPosition" [attr.y]="m.yPosition" [attr.font-size]="calcFontSize(m.radius)" fill="black" text-anchor="middle" (click)="redirect(m.url)">{{m.label}}</text>
    </g>
  </svg>
</div>